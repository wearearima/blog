<!DOCTYPE html>
<html lang="es" itemscope itemtype="http://schema.org/Blog">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>[CSS] Switch off the lights</title>
  <meta name="description" content="El “modo oscuro” en las interfaces de usuario se ha puesto de moda el último año. Antes eran pocas las aplicaciones (nativas o webapps) que tenían una interf...">
  
  <meta name="keywords" content="css,dark,light,claro,oscuro">
  

  <!-- Twitter cards -->
  <meta name="twitter:site"    content="@wearearima">
  <meta name="twitter:creator" content="@alberto">
  <meta name="twitter:title"   content="[CSS] Switch off the lights">

  
  <meta name="twitter:description" content="">
  

  
  <meta name="twitter:card"  content="summary_large_image">
  <meta name="twitter:image" content="https://blog.arima.eu/assets/images/post-headers/lights-header.jpg">
  
  <!-- end of Twitter cards -->

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="https://blog.arima.eu/2019/10/11/switch-off-the-lights.html">
  <link rel="alternate" type="application/rss+xml" title="ARIMA" href="/feed.xml">

  <!-- SEO Recipes (http://polyglot.untra.io/seo/) -->
  <meta http-equiv="Content-Language" content="es">
  <link rel="alternate"
      hreflang="es"
      href="https://blog.arima.eu/2019/10/11/switch-off-the-lights.html" />
  
  
  <link rel="alternate"
      hreflang="es"
      href="https://blog.arima.eu/es/2019/10/11/switch-off-the-lights.html" />
  
  
  <link rel="alternate"
      hreflang="en"
      href="https://blog.arima.eu/en/2019/10/11/switch-off-the-lights.html" />
  
  
  <link rel="alternate"
      hreflang="eu"
      href="https://blog.arima.eu/eus/2019/10/11/switch-off-the-lights.html" />
  

  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120217722-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-120217722-1');
</script>
  
</head>

  <body>
    <nav class="toolbar">
    <div class="wrapper">    
        <a href="/">
            <div class="toolbar__logo">
                <svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" version="1.1" width="100%" height="100%" viewBox="0 0 33 6">
    <path id="path24" d="m30.346988508615652,-0.000015174522529526127 l-0.6439224998849951,0 l-2.7763635316117727,6.135695064030662 l0.7050150612484405,0 l2.3859233880279893,-5.335002838884215 l2.3660424189063254,5.335002838884215 l0.739668694925785,0 L30.346988508615652,-0.000015174522529526127 zm-8.274141805179609,3.3681675186951847 l-2.2194202716340565,-3.324608867598761 l-0.6962481061149294,0 l0,6.092136412934239 l0.6700853029999622,0 l0,-4.926062349034439 l2.2194202716340565,3.2553706313868567 l0.034929758248478535,0 l2.2192131782057056,-3.2639304930920168 l0,4.934622210739599 l0.6873430886958508,0 l0,-6.092136412934239 l-0.6961100438293623,0 l-2.2192131782057056,3.324608867598761 zm-9.143036799396208,-1.5057072863948877 c0,-1.0964906719739773 -0.8613705996531913,-1.8189015812038738 -2.201748299081466,-1.8189015812038738 l-2.619662837493104,0 l0,6.092136412934239 l0.6876192132669849,0 l0,-5.456842805897188 l1.8799251114245357,0 c0.9833486289517317,0 1.5576187057681203,0.4525681720889824 1.5576187057681203,1.2097017461390067 c0,0.7919252700129356 -0.7831583148794242,1.2620273523689407 -1.6968545207625496,1.2620273523689407 l0,0.6178287279128115 l1.7665759749739396,2.3672849794764295 l0.8442508762428699,0 l-1.8711581562910244,-2.4891249464894027 c0.9571858258367647,-0.17416557324290774 1.6534339319516944,-0.7659695603263191 1.6534339319516944,-1.7841098852409623 m2.7743616284710493,4.273234831730365 l0.6872050264102838,0 l0,-6.0920673817914555 l-0.6872050264102838,0 l0,6.0920673817914555 zM2.7761571742923965,-0.000015174522529526127 l-2.7761564381834223,6.135695064030662 l0.7048769989628736,0 l2.386061450313556,-5.335002838884215 l2.3658353254779745,5.335002838884215 l0.739668694925785,0 l-2.7761564381834223,-6.135695064030662 l-0.6441295933133457,0 z" stroke-width="0"/>
</svg>

            </div>
        </a>
        <!-- Language selector -->
        <div class="language-selector">
            
              
                <b class="selected">ES</b>
              
              
                &nbsp;|&nbsp;
              
            
              
                <a class="unselected" href="/en/2019/10/11/switch-off-the-lights.html">EN</a>
              
              
                &nbsp;|&nbsp;
              
            
              
                <a class="unselected" href="/eu/2019/10/11/switch-off-the-lights.html">EU</a>
              
              
            
         </div>
    </div>
</nav>
<div id="publisher_id" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Arima 100% Software Design" />
    <meta itemprop="url" content="https://arima.eu" />
    <div itemprop="logo" itemscope itemtype="http://schema.org/ImageObject">
        <meta itemprop="url" content="https://arima.eu/img/logo.png" />
    </div>
</div>
    <main aria-label="Content">        
        <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting" itemref="publisher_id">
          <link itemprop="mainEntityOfPage" href="/2019/10/11/switch-off-the-lights.html" />

          <header class="post-header">
            <div class="post-img" itemprop="image" itemscope itemtype="http://schema.org/ImageObject" style="background-image: url('https://blog.arima.eu/assets/images/post-headers/lights-header.jpg');">
              <meta itemprop="url" content="https://blog.arima.eu/assets/images/post-headers/lights-header.jpg" />
            </div>
            <div class="wrapper">
              <div class="post-info__container">
                <div class="post-info">
                  <h1 class="post-title" itemprop="name headline">[CSS] Switch off the lights</h1>
                    <div class="post-meta" itemscope itemtype="https://schema.org/Person" itemprop="author">
                      
                      <div class="author-photo">
                        <img itemprop="image" src="/assets/images/authors/alberto.png" alt="">
                      </div>
                      <div>
                        <span class="post-author" itemprop="name">Alberto Calvo</span>
                      </div>
                      <div>
                        <span class="post-date">11 Oct 2019</span>
                      </div>
                    </div>
                    <meta  itemprop="datePublished dateModified" content="11 Oct 2019" />
                </div>
              </div>
            </div>
          </header>
          <div class="wrapper">
            <div class="post-content" itemprop="articleBody">
              <p>El “modo oscuro” en las interfaces de usuario se ha puesto de moda el último año. Antes eran pocas las aplicaciones (nativas o webapps) que tenían una interfaz alternativa a la de colores blancos/claros que utilizan la mayoría de UIs por defecto. Y las que lo ofrecían (por ejemplo, Youtube) lo tienen escondido de tal forma que hay que activarlo como opción en los menús de configuración de la propia aplicación. Es decir, había pocas aplicaciones que lo ofrecían y además se necesitaba bucear entre las opciones para ver si lo ofrecían y en caso afirmativo activarlo en cada una de ellas: cocktail perfecto para que en la práctica no lo utilizase prácticamente nadie y, en consecuencia a su vez, no existiese ningún aliciente para ofrecer ese modo oscuro.</p>

<p>Sin embargo macOS estrenó con su versión Mojave/10.14 (septiembre de 2018) una configuración global para poner todo el sistema operativo en modo oscuro (menús, el Finder, etc.) y ofrecer a las aplicaciones nativas esta información (si el usuario ha elegido un tema claro u oscuro) para poder integrarse en el sistema operativo automáticamente. A partir de ahí muchas aplicaciones nativas se han ido actualizando para respetar esta configuración (por ejemplo Firefox y Chrome han lanzado estos últimos meses interfaces oscuras del propio navegador para los que tenemos el modo oscuro activado), ha llegado también a Windows, y ha dado el salto a móviles implementándose oficialmente en Android 10 e iOS 13 (aunque desde Android 9 ya se podía activar en muchos móviles) donde además tiene el aliciente del ahorro de batería en pantallas AMOLED, etc.</p>

<p>Y, lo que nos interesa, es que esta configuración ha saltado también a CSS. La propuso WebKit implementándola en Safari 12.1 y ya se ha lanzado también en Firefox (67+) y Chrome de escritorio (77+), aunque por alguna razón aún no en Chrome de Android (caniuse). Estamos hablando de la media query <em>prefers-color-scheme</em> (MDN).</p>

<p>Esto permite ejecutar CSS específico según las preferencias de tema del usuario en su sistema operativo (de escritorio o móvil). En la práctica, podemos hacer algo así:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>body {
  background: #eee;
  color: #111;
}

@media (prefers-color-scheme: dark) {
  body {
    background: #111;
    color: #eee;
  }
}
</code></pre></div></div>

<p>Con esto tendríamos un tema oscuro para quien así tenga configurada la preferencia en su sistema operativo, y un tema tradicional claro para todos los demás (incluidos aquellos navegadores que aún no soporten esta nueva media query).</p>

<p>Podéis probarlo con la versión de cualquier navegador de escritorio esta mini demo que he hecho: <a href="https://typescript-rf4g1k.stackblitz.io/" target="_blank">https://typescript-rf4g1k.stackblitz.io/</a></p>

<p><img src="/assets/images/2019-10-11-switch-off-the-lights/demo.gif" alt="demo" class="center" /></p>

<p>Si jugáis, como en el GIF, con la configuración System Preferences -&gt; General -&gt; Appearance, al cambiar entre el modo Light y Dark cambiará no solo la interfaz de macOS y la UI del navegador, sino también nuestra propia web. Yay!</p>

<p>Y, de hecho, con el CSS puro actual podemos jugar aún más: podríamos utilizar variables CSS y conseguir algo así:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>:root {
    --background-color: #eee;
    --text-color: #111;
}

@media (prefers-color-scheme: dark) {
    :root {
        --background-color: #111;
        --text-color: #eee;
    }
}

body {
  background: var(--background-color);
  color: var(--text-color);
}
</code></pre></div></div>

<p>Definir todos los colores que utilicemos en nuestra UI como variables y reescribir el tema oscuro con esta nueva media query. Y esto funcionaría igual que lo anterior, out of the box sin ningún pre-tratamiento necesario de Sass/PostCSS/etc.</p>

            </div>

            
          </div>
        </article>
      </div>
    </main>

    <footer>
    <div class="wrapper">
        <div class="footer__container">
            <div class="footer__sello">
                <img src="/assets/images/arima_sello_white.png" alt="" />
            </div>
            <div class="footer__content">
                <div class="footer__data">
                    <dl>
                        <dt>web</dt>
                        <dd><a itemprop="sameAs" href="https://www.arima.eu/es/">arima.eu</a></dd>
                    </dl>
                    <dl>
                        <dt>social</dt>
                        <dd>
                            <a itemprop="sameAs" href="https://github.com/wearearima" class="social"><span class="icon-github"></span></a>
                            <a itemprop="sameAs" href="https://twitter.com/wearearima" class="social"><span class="icon-twitter"></span></a>
                            <a itemprop="sameAs" href="https://www.linkedin.com/company/arima-software-design/" class="social"><span class="icon-linkedin"></span></a>
                            <a itemprop="sameAs" href="/feed.xml" class="social"><span class="icon-feed"></span></a>
                        </dd>
                    </dl>
                    <dl>
                        <dt>Privacidad</dt>
                        <dd class="politica-cookies">
                            <a href="/cookies.html">Política de cookies</a>
                        </dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>
</footer>
    <div class="cookies-message" id="cookies-message">
    <h4>Este sitio web utiliza cookies</h4>
    <p>Este sitio web utiliza cookies para mejorar la experiencia del usuario. Al utilizar nuestro sitio web, usted acepta todas las cookies de acuerdo con nuestra Política de cookies.</p>
    <div class="buttons">
        <a class="button" href="/cookies.html">Leer política de cookies</a>
        <button class="button" id="accept-cookies">Aceptar</button>
    </div>
</div>
<script>
    (function() {
        if(localStorage) {
            var cookiesAccepted = localStorage.getItem("cookies-accepted");
            if(cookiesAccepted) {
                hideCookiesMessage();
                
            } else {
                document.getElementById('accept-cookies').addEventListener("click", function() {
                    hideCookiesMessage();
                    localStorage.setItem("cookies-accepted", true);
                })
            }
        }
        function hideCookiesMessage() {
            document.getElementById('cookies-message').style.display = "none";
        }
    })();
</script>

  </body>

</html>